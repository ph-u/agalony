<!DOCTYPE html>
<html>
    <style>
        .ct {text-align: center;font-size: 35px}
        pre code {
            background-color: #777777;
            border: 1px solid #dd546e;
            display: block;
            padding: 10px;
            color: #990099;
        }
        body {
            color: #00aa00;
            background-color: #210000;
            }
        table {
            border: 1px solid white;
            border-collapse: collapse;
        }
        th {
            border: 1px solid white;
        }
        td {
            border: 1px solid white;
        }
    </style>
    <head>
        <title>agalony User Example</title>
        <meta charset="UTF-8">
        <meta name="author" content="ph-u">
        <meta name="description" content="Detailed example for using program 'agalony'">
        <!-- 20201125 -->
    </head>
    <body>
        <header class="ct"><u>AGALONY -- Example</u></header>
        <p>Back to the <a href="https://ph-u.github.io/agalony/">stylish</a> / <a href="https://github.com/ph-u/agalony">master</a> site</p>

        <p>This is a demonstration of the AGALONY pipeline.  Here we'll use three photos of three types of stained bacteria (by <a href="https://www.sciencedirect.com/topics/neuroscience/crystal-violet">crystal violet</a>) under a light microscope. All images on this page can be found in the <a href="https://github.com/ph-u/agalony/tree/master/img">repository</a>.</p>
        <table>
            <tr><th>WA0003.jpg</th><th>WA0004.jpg</th><th>WA0006.jpg</th></tr>
            <tr>
                <td><img src="https://raw.githubusercontent.com/ph-u/agalony/master/img/WA0003.jpg" alt="Pseudomonas aeruginosa crystal-violet" height="200" width="300"></td>
                <td><img src="https://raw.githubusercontent.com/ph-u/agalony/master/img/WA0004.jpg" alt="Escherichia coli crystal-violet" height="200" width="300"></td>
                <td><img src="https://raw.githubusercontent.com/ph-u/agalony/master/img/WA0006.jpg" alt="Staphylococcus epidermidis crystal-violet" height="200" width="300"></td>
            </tr>
        </table>
        <p>We know it is too time-consuming, inefficient and inaccurate to count the number of individuals by hand.  So we put down the following photo data attributes in <b>range.csv</b> within the same directory</p>
        <table>
            <tr>
                <th>img_name</th>
                <th>rim_X1</th><th>rim_Y1</th><th>rim_X2</th><th>rim_Y2</th>
                <th>sample1_X1</th><th>sample1_Y1</th><th>sample1_X2</th><th>sample1_Y2</th>
                <th>sample2_X1</th><th>sample2_Y1</th><th>sample2_X2</th><th>sample2_Y2</th>
                <th>Hz_Pt</th><th>px_Unit_Ratio</th>
            </tr>
            <tr>
                <td>WA0003</td>
                <td>291</td><td>139</td><td>1050</td><td>900</td>
                <td>675</td><td>544</td><td>680</td><td>551</td>
                <td>549</td><td>841</td><td>554</td><td>847</td>
                <td>H</td><td></td>
            </tr>
            <tr>
                <td>WA0004</td>
                <td>166</td><td>5</td><td>922</td><td>761</td>
                <td>687</td><td>443</td><td>689</td><td>445</td>
                <td>551</td><td>691</td><td>552</td><td>693</td>
                <td>H</td><td></td>
            </tr>
            <tr>
                <td>WA0006</td>
                <td>890</td><td>64</td><td>109</td><td>845</td>
                <td>609</td><td>402</td><td>615</td><td>410</td>
                <td>520</td><td>826</td><td>530</td><td>832</td>
                <td>H</td><td></td>
            </tr>
        </table>
        <p>Here are screen captures on how we get the coordinate data attributes for WA0006 (yellow rectangles resemble the rectangular selection tool we used for measurements):</p>
        <table>
            <tr><th>rim_X1</th><th>rim_Y1</th><th>rim_X2</th><th>rim_Y2</th></tr>
            <tr>
                <td><img src="https://raw.githubusercontent.com/ph-u/agalony/master/img/WA0006rX1.png" alt="Staphylococcus epidermidis X1" height="200" width="300"></td>
                <td><img src="https://raw.githubusercontent.com/ph-u/agalony/master/img/WA0006rY1.png" alt="Staphylococcus epidermidis Y1" height="200" width="300"></td>
                <td><img src="https://raw.githubusercontent.com/ph-u/agalony/master/img/WA0006rX2.png" alt="Staphylococcus epidermidis X2" height="200" width="300"></td>
                <td><img src="https://raw.githubusercontent.com/ph-u/agalony/master/img/WA0006rY2.png" alt="Staphylococcus epidermidis Y2" height="200" width="300"></td>
            </tr>
            <tr><th>sample1_X1Y1</th><th>sample1_X2Y2</th><th>sample2_X1Y1</th><th>sample2_X2Y2</th></tr>
            <tr>
                <td><img src="https://raw.githubusercontent.com/ph-u/agalony/master/img/WA0006s1X1Y1.png" alt="Staphylococcus epidermidis sample 1 X1Y1" height="200" width="300"></td>
                <td><img src="https://raw.githubusercontent.com/ph-u/agalony/master/img/WA0006s1X2Y2.png" alt="Staphylococcus epidermidis sample 1 X2Y2" height="200" width="300"></td>
                <td><img src="https://raw.githubusercontent.com/ph-u/agalony/master/img/WA0006s2X1Y1.png" alt="Staphylococcus epidermidis sample 2 X1Y1" height="200" width="300"></td>
                <td><img src="https://raw.githubusercontent.com/ph-u/agalony/master/img/WA0006s2X2Y2.png" alt="Staphylococcus epidermidis sample 2 X2Y2" height="200" width="300"></td>
            </tr>
        </table>
        <p>Next, we run the program for the first time and plot the intermediate outputs (*_agar.csv & *_fil.csv only) for checking. It is not recommended to plot the raw csv output because plotting one can take half an hour.</p>
        <table>
            <tr><th></th><th>*_agar.csv</th><th>*_fil.csv</th></tr>
            <tr><td>WA0003</td>
                <td><img src="https://raw.githubusercontent.com/ph-u/agalony/master/img/WA0003_agar.png" alt="Pseudomonas aeruginosa agar" height="300" width="300"></td>
                <td><img src="https://raw.githubusercontent.com/ph-u/agalony/master/img/WA0003_fil0.png" alt="Pseudomonas aeruginosa initial filter" height="300" width="300"></td>
            </tr>
            <tr><td>WA0004</td>
                <td><img src="https://raw.githubusercontent.com/ph-u/agalony/master/img/WA0004_agar.png" alt="Escherichia coli agar" height="300" width="300"></td>
                <td><img src="https://raw.githubusercontent.com/ph-u/agalony/master/img/WA0004_fil0.png" alt="Escherichia coli initial filter" height="300" width="300"></td>
            </tr>
            <tr><td>WA0006</td>
                <td><img src="https://raw.githubusercontent.com/ph-u/agalony/master/img/WA0006_agar.png" alt="Staphylococcus epidermidis agar" height="300" width="300"></td>
                <td><img src="https://raw.githubusercontent.com/ph-u/agalony/master/img/WA0006_fil0.png" alt="Staphylococcus epidermidis initial filter" height="300" width="300"></td>
            </tr>
        </table>
        </body>
</html>